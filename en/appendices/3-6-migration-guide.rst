3.6 Migration Guide
###################

CakePHP 3.6 is an API compatible upgrade from 3.5. This page outlines the
changes and improvements made in 3.6.

To upgrade to 3.6.x run the following composer command:

.. code-block:: bash

    php composer.phar require --update-with-dependencies "cakephp/cakephp:3.6.*"

Deprecations
============

The following is a list of deprecated methods, properties and behaviors. These
features will continue to function until 4.0.0 after which they will be removed.

* ``bin/cake orm_cache`` is now ``bin/cake schema_cache``.


Behavior Changes
================

The following changes are API compatible, but they represent minor variances in
behavior that may affect your application:

* ``Cake\Utility\Security::randomBytes()`` will now throw exceptions when
  a secure source of entropy cannot be found in PHP5.
* Tokens generated by ``SecurityComponent`` now include the user's session id,
  to prevent token reuse between users/sessions. This changes the value of
  security tokens and will cause forms created in earlier versions of CakePHP to
  fail validation in 3.6.
* ``Cake\Database\Query::page()`` now raises exceptions when page values are
  < 1.

ORM
========

* ``EntityTrait::isEmpty()`` and ``EntityTrait::hasValue()`` were added.
